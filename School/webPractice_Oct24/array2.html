<body>
    <table>
        <tr>
            <td><input id="a1" type="text" value="0"></td>
            <td><input id="a2" type="text" value="0"></td>
            <td><input id="a3" type="text" value="0"></td>
            <td><input id="a4" type="text" value="0" readonly style="cursor: not-allowed"></td>
        </tr>
        <tr>
            <td><input id="a5" type="text" value="0"></td>
            <td><input id="a6" type="text" value="0"></td>
            <td><input id="a7" type="text" value="0"></td>
            <td><input id="a8" type="text" value="0" readonly style="cursor: not-allowed"></td>
        </tr>
        <tr>
            <td><input id="a9" type="text" value="0"></td>
            <td><input id="a10" type="text" value="0"></td>
            <td><input id="a11" type="text" value="0"></td>
            <td><input id="a12" type="text" value="0" readonly style="cursor: not-allowed"></td>
        </tr>
        <tr>
            <td><input id="a13" type="text" value="0" readonly style="cursor: not-allowed"></td>
            <td><input id="a14" type="text" value="0" readonly style="cursor: not-allowed"></td>
            <td><input id="a15" type="text" value="0" readonly style="cursor: not-allowed"></td>
            <td><input id="a16" type="text" value="0" readonly style="cursor: not-allowed"></td>
        </tr>
    </table>

    <input id="sum" type="text" readonly placeholder="The sum will be here."
    style="width: 200px; padding: 10px; font-size: 16px; border: 2px solid #007BFF; border-radius: 5px; background-color: #F0F8FF; color: #333; text-align: center; cursor: not-allowed;">

    <script>
        function changeText() {
            let array = new Array(17).fill(0); // Initialize the array with 0s

            for (let i = 1; i <= 16; i++) {
                array[i] = parseInt(document.getElementById(`a${i}`).value) || 0;
            }

            // Calculate sums
            array[4] = array[1] + array[2] + array[3];
            array[8] = array[5] + array[6] + array[7];
            array[12] = array[9] + array[10] + array[11];

            array[13] = array[1] + array[5] + array[9];
            array[14] = array[2] + array[6] + array[10];
            array[15] = array[3] + array[7] + array[11];

            array[16] = array[4] + array[8] + array[12];

            // Update readonly fields
            document.getElementById("a4").value = array[4];
            document.getElementById("a8").value = array[8];
            document.getElementById("a12").value = array[12];
            document.getElementById("a13").value = array[13];
            document.getElementById("a14").value = array[14];
            document.getElementById("a15").value = array[15];
            document.getElementById("a16").value = array[16];

            // Update sum field
            document.getElementById("sum").value = array[16];
        }

        // Add event listeners to the input fields
        for (let i = 1; i <= 16; i++) {
            if (i !== 4 && i !== 8 && i !== 12 && i !== 13 && i !== 14 && i !== 15 && i !== 16) {
                document.getElementById(`a${i}`).addEventListener("input", changeText);
            }
        }
    </script>
</body>
